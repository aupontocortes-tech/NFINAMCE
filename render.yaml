# NFinance - Deploy na Render com um clique
# Conecte este repositório em render.com → New → Blueprint e selecione este repo.
# A Render criará backend e frontend automaticamente.

services:
  # Backend (API)
  - type: web
    name: nfinamce
    runtime: node
    plan: free
    rootDir: server
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
    # Adicione no Dashboard: JWT_SECRET, DATABASE_URL (se usar Postgres), etc.

  # Frontend (Next.js)
  - type: web
    name: nfinance-frontend
    runtime: node
    plan: free
    # rootDir é a raiz do repo (frontend fica na raiz)
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      # Se o backend tiver outra URL, defina no Dashboard:
      # NEXT_PUBLIC_API_URL = https://nfinamce.onrender.com
    # O app já usa https://nfinamce.onrender.com quando está em *.onrender.com
